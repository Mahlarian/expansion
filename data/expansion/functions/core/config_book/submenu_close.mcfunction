# The way this handles pulling up the main menu is such a dumb workaround, but I honestly don't care
# If you have a problem with it, then MAKE me rewrite it. Not over my dead body you won't.
execute at @e[type=item,nbt={Item:{id:"minecraft:barrier",Count:1b,tag:{display:{Name:'{"text":"Return to Main Menu","color":"red","bold":true,"italic":true}',Lore:['{"text":"Dropping this item will return back to the config main menu","color":"white","italic":false}']}}}}] as @a[scores={exp_config_op=1..},limit=1,sort=nearest] run scoreboard players set @s exp_config_op 1
execute at @e[type=item,nbt={Item:{id:"minecraft:barrier",Count:1b,tag:{display:{Name:'{"text":"Return to Main Menu","color":"red","bold":true,"italic":true}',Lore:['{"text":"Dropping this item will return back to the config main menu","color":"white","italic":false}']}}}}] as @a[scores={exp_config_op=1..},limit=1,sort=nearest] run function expansion:core/config_book/main_menu
execute at @e[type=item,nbt={Item:{id:"minecraft:barrier",Count:1b,tag:{display:{Name:'{"text":"Return to Main Menu","color":"red","bold":true,"italic":true}',Lore:['{"text":"Dropping this item will return back to the config main menu","color":"white","italic":false}']}}}}] as @a[scores={exp_config_op=1..},limit=1,sort=nearest] run scoreboard players set @s exp_config_op 2
kill @e[type=item,nbt={Item:{id:"minecraft:barrier",Count:1b,tag:{display:{Name:'{"text":"Return to Main Menu","color":"red","bold":true,"italic":true}',Lore:['{"text":"Dropping this item will return back to the config main menu","color":"white","italic":false}']}}}}]